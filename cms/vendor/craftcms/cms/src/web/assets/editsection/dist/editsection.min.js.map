{"version":3,"sources":["editsection/src/editsection.js"],"names":["$","$siteRows","children","$lightswitches","find","updateSites","i","$site","$lightswitch","eq","data","on","parent","nextAll","addClass","attr","removeClass","$checkbox","$uriCell","prop","this","$singleHomepageCheckboxes"],"mappings":"CAAA,SAACA,GAEG,IAAAC,EAAAD,EAAA,UAAAE,SAAA,SAAAA,WACID,EAAcA,EAAUC,SAAS,mBAArCA,SAAA,gBACIC,EAA2BD,EAASE,KAAA,8BAGxC,SAASC,IAATJ,EAASI,MAAT,SAAuBC,IAMvB,SAAoBC,EAAOD,GACvB,IAAAE,EAAAL,EAAAM,GAAAH,GACIE,GAAAA,EAAeL,OAAAA,CAEf,IAAKK,EAAaE,KAAK,eAAeC,GAAjCH,YADLA,EAAqBI,SAAAC,QAAA,MAAAC,SAAA,YAAAV,KAAA,kCAAAW,KAAA,WAAA,MAGjBP,EAAAI,SAAAC,QAAA,MAAAG,YAAA,YAAAZ,KAAA,kCAAAW,KAAA,WAAA,KAKR,IAAAE,EAAAV,EAAAL,SAAA,oBAAAE,KAAA,aAEIc,EAAWX,EAAML,SAAS,eAD1Be,EAAYV,KAAML,WAClBgB,EAAWX,SAAML,YAASE,KAAf,YAAfW,KAAA,WAAA,MAEIE,EAAUE,YAAd,YAA+Bf,KAAA,YAAAW,KAAA,WAAA,KApB/Bd,CAAeD,EAAAoB,MAAYd,MAwB1BH,EAAAQ,GAAA,SAAAN,GACJgB,EAAAV,GAAA,SAAAN,GAEDF,QAAAA,KAAeQ,OAAG,WAClBU,OApCJ,CAuCQhB","file":"editsection.min.js","sourcesContent":["(function($) {\n    /** global: Craft */\n    /** global: Garnish */\n    var $siteRows = $('#sites').children('tbody').children();\n    var $lightswitches = $siteRows.children('th:nth-child(2)').children('.lightswitch');\n    var $singleHomepageCheckboxes = $siteRows.find('.single-homepage .checkbox');\n\n    function updateSites() {\n        $siteRows.each(function(i) {\n            updateSite($(this), i);\n        });\n    }\n\n    function updateSite($site, i) {\n        // Is it disabled?\n        var $lightswitch = $lightswitches.eq(i);\n        if ($lightswitch.length) {\n            if (!$lightswitch.data('lightswitch').on) {\n                $lightswitch.parent().nextAll('td').addClass('disabled').find('textarea,div.lightswitch,input').attr('tabindex', '-1');\n                return;\n            }\n            $lightswitch.parent().nextAll('td').removeClass('disabled').find('textarea,div.lightswitch,input').attr('tabindex', '0');\n        }\n\n        // If it's a single, make sure the URI is enabled/disabled per the homepage checkbox\n        var $checkbox = $site.children('.single-homepage').find('.checkbox');\n        var $uriCell = $site.children('.single-uri');\n\n        if ($checkbox.prop('checked')) {\n            $uriCell.addClass('disabled').find('textarea').attr('tabindex', '-1');\n        } else {\n            $uriCell.removeClass('disabled').find('textarea').attr('tabindex', '0');\n        }\n    }\n\n    $lightswitches.on('change', updateSites);\n    $singleHomepageCheckboxes.on('change', updateSites);\n\n    Garnish.$doc.ready(function() {\n        updateSites();\n    });\n})(jQuery);\n"]}